[preset.0]

name="FishStack"
platform="Web"
runnable=true
advanced_options=false
dedicated_server=false
custom_features=""
export_filter="all_resources"
include_filter="extends Controlclass_name InterfazUsuario@onready var label_dinero: Label = $\"Label\"@onready var boton_tienda: Button = $\"Tienda\"@onready var boton_mochila: Button = $\"Mochila\"@onready var panel_mochila: Panel = $PanelMochila@onready var grid_mochila: GridContainer = $\"PanelMochila/GridContainer\"@onready var barra_equipados: HBoxContainer = $\"BarrasEquipados\"var amuletos_equipados: Array = []func _ready():await get_tree().process_frame  # ‚è≥ Espera 1 frame (asegura que ya se carg√≥ el nodo)actualizar_label()if not boton_tienda.pressed.is_connected(_abrir_tienda):boton_tienda.pressed.connect(_abrir_tienda)if not boton_mochila.pressed.is_connected(_on_mochila_pressed):boton_mochila.pressed.connect(_on_mochila_pressed)if panel_mochila:panel_mochila.visible = falseelse:push_warning(\"‚ö†Ô∏è PanelMochila no encontrado en InterfazUsuario\")# ======================================================# üí∞ SINCRONIZAR DINERO# ======================================================func actualizar_label():label_dinero.text = str(Global.doblones)func agregar_dinero(cantidad: int):Global.doblones += cantidadactualizar_label()# ======================================================# üè™ ABRIR TIENDA# ======================================================func _abrir_tienda():var tienda = load(\"res://Scene/tienda.tscn\")if tienda:get_tree().change_scene_to_packed(tienda)else:push_error(\"‚ùå No se pudo cargar la tienda.\")# ======================================================# üéí ABRIR / CERRAR MOCHILA# ======================================================func _on_mochila_pressed():if not panel_mochila:push_warning(\"‚ö†Ô∏è PanelMochila no est√° disponible\")returnpanel_mochila.visible = !panel_mochila.visible# üß© Control del input del panelif panel_mochila.visible:panel_mochila.mouse_filter = Control.MOUSE_FILTER_STOP_cargar_amuletos_mochila()else:panel_mochila.mouse_filter = Control.MOUSE_FILTER_IGNORE# üîÑ Evitar que el bot√≥n quede con foco (y se vuelva a activar al lanzar ca√±a)boton_mochila.release_focus()# ======================================================# üß± CARGAR AMULETOS DESDE GLOBAL# ======================================================func _cargar_amuletos_mochila():for n in grid_mochila.get_children():n.queue_free()for amuleto in Global.amuletos_comprados:var boton = Button.new()boton.text = amuletoboton.custom_minimum_size = Vector2(180, 60)boton.connect(\"pressed\", Callable(self, \"_equipar_amuletos\").bind(amuleto, boton))grid_mochila.add_child(boton)# ======================================================# üßø EQUIPAR / DESEQUIPAR# ======================================================func _equipar_amuletos(nombre: String, boton: Button):if nombre in amuletos_equipados:amuletos_equipados.erase(nombre)boton.modulate = Color(1, 1, 1, 1)else:if amuletos_equipados.size() >= 3:print(\"‚ö†Ô∏è Solo puedes equipar 3 amuletos a la vez\")returnamuletos_equipados.append(nombre)boton.modulate = Color(0.7, 1, 0.7, 1)Global.amuletos_equipados = amuletos_equipados_actualizar_barra_equipados()# ======================================================# üñºÔ∏è MOSTRAR AMULETOS EQUIPADOS EN HUD# ======================================================func _actualizar_barra_equipados():for slot in barra_equipados.get_children():slot.texture = nullfor i in range(amuletos_equipados.size()):var nombre = amuletos_equipados[i]var icon_path = _buscar_icono(nombre)if icon_path != \"\":barra_equipados.get_child(i).texture = load(icon_path)# ======================================================# üß≠ OBTENER RUTA DE ICONO SEG√öN NOMBRE# ======================================================func _buscar_icono(nombre: String) -> String:match nombre:\"Amuleto Com√∫n\":return \"res://Assets/Amuletos/amuletocomun.png\"\"Amuleto Raro\":return \"res://Assets/Amuletos/amuletoraro.png\"\"Amuleto Celestial\":return \"res://Assets/Amuletos/amuletocelestial.png\"\"Amuleto Dineral\":return \"res://Assets/Amuletos/amuletomasplata.png\"\"Amuleto Secreto\":return \"res://Assets/Amuletos/amuletosecreto.png\"\"Amuleto Exotico\":return \"res://Assets/Amuletos/amuletoexotico.png\"_:return \"\""
exclude_filter=""
export_path="../../../../../xampp/htdocs/Fish/Juegos_Prototipo/FishStack.html"
patches=PackedStringArray()
encryption_include_filters=""
encryption_exclude_filters=""
seed=0
encrypt_pck=false
encrypt_directory=false
script_export_mode=2

[preset.0.options]

custom_template/debug=""
custom_template/release=""
variant/extensions_support=false
variant/thread_support=false
vram_texture_compression/for_desktop=true
vram_texture_compression/for_mobile=false
html/export_icon=true
html/custom_html_shell=""
html/head_include=""
html/canvas_resize_policy=2
html/focus_canvas_on_start=true
html/experimental_virtual_keyboard=false
progressive_web_app/enabled=false
progressive_web_app/ensure_cross_origin_isolation_headers=true
progressive_web_app/offline_page=""
progressive_web_app/display=1
progressive_web_app/orientation=0
progressive_web_app/icon_144x144=""
progressive_web_app/icon_180x180=""
progressive_web_app/icon_512x512=""
progressive_web_app/background_color=Color(0, 0, 0, 1)
